<!DOCTYPE html>
<html>
<head>
    <title>JSON Beautifier</title>
    <style>
        textarea {
            width: 80%;
            height: 200px;
        }
        pre {
            white-space: pre-wrap;
            word-wrap: break-word;
            background-color: #f4f4f4;
            border: 1px solid #ccc;
            padding: 10px;
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <h1>JSON Beautifier</h1>
    <textarea id="inputJson" placeholder="Paste your JSON log entries here"></textarea><br>
    <button onclick="beautifyJson()">Beautify JSON</button>
    <div id="output"></div>

    <script>
        function beautifyJson() {
            const input = document.getElementById('inputJson').value;
            const outputDiv = document.getElementById('output');
            outputDiv.innerHTML = ''; // Clear previous output

            try {
                // Regular expression to match individual JSON objects
                const jsonEntries = input.match(/\{(?:[^{}]|(?:\{[^{}]*\}))*\}/g);
                if (jsonEntries) {
                    jsonEntries.forEach(entry => {
                        try {
                            const jsonObject = JSON.parse(entry);
                            const prettyJson = JSON.stringify(jsonObject, null, 2);
                            const pre = document.createElement('pre');
                            pre.textContent = prettyJson;
                            outputDiv.appendChild(pre);
                        } catch (e) {
                            const error = document.createElement('div');
                            error.textContent = `Invalid JSON: ${entry}`;
                            error.style.color = 'red';
                            outputDiv.appendChild(error);
                        }
                    });
                } else {
                    outputDiv.textContent = 'No valid JSON entries found.';
                    outputDiv.style.color = 'red';
                }
            } catch (e) {
                outputDiv.textContent = 'An error occurred while processing the JSON entries.';
                outputDiv.style.color = 'red';
            }
        }
    </script>
</body>
</html>
